---
export interface Props {
	title: string;
}

const {title} = Astro.props;
---

<div class='exam-content'>
	<h1>{title}</h1>
	<p>Testez vos connaissances sur les concepts du cours 8 concernant les politiques sociales et le travail social.</p>

	<form id='examForm'>
		<!-- Questions à choix multiples -->
		<div class='question' id='q1'>
			<h2>1. Définition des politiques sociales</h2>
			<p>Selon Vaillancourt, les politiques sociales sont des interventions qui contribuent au bien-être et à la citoyenneté des individus et des collectivités d'une manière qui fait reculer:</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q1' id='q1a' value='a' />
					<label for='q1a'>La pauvreté et l'exclusion sociale</label>
				</div>
				<div class='option'>
					<input type='radio' name='q1' id='q1b' value='b' />
					<label for='q1b'>La marchandisation et la familialisation</label>
				</div>
				<div class='option'>
					<input type='radio' name='q1' id='q1c' value='c' />
					<label for='q1c'>L'individualisme et le néolibéralisme</label>
				</div>
				<div class='option'>
					<input type='radio' name='q1' id='q1d' value='d' />
					<label for='q1d'>La régulation étatique et le centrisme</label>
				</div>
			</div>
			<div class='explanation' id='explain1'>
				Selon la définition de Vaillancourt présentée dans le cours, les politiques sociales sont des interventions de l'État qui contribuent au bien-être et à la citoyenneté d'une manière qui fait
				reculer la marchandisation et la familialisation.
			</div>
		</div>

		<div class='question' id='q2'>
			<h2>2. Approches de régulation du social</h2>
			<p>Quelle approche de régulation du social est caractérisée par des politiques sociales qui sont des co-constructions et leur mise en œuvre des co-productions?</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q2' id='q2a' value='a' />
					<label for='q2a'>L'État providence</label>
				</div>
				<div class='option'>
					<input type='radio' name='q2' id='q2b' value='b' />
					<label for='q2b'>Le néo-libéralisme</label>
				</div>
				<div class='option'>
					<input type='radio' name='q2' id='q2c' value='c' />
					<label for='q2c'>La perspective solidaire (ou partenariale)</label>
				</div>
				<div class='option'>
					<input type='radio' name='q2' id='q2d' value='d' />
					<label for='q2d'>L'approche consumériste</label>
				</div>
			</div>
			<div class='explanation' id='explain2'>
				La perspective solidaire (ou partenariale) est caractérisée par des politiques sociales conçues comme des co-constructions et mises en œuvre comme des co-productions. Cette approche valorise
				le partenariat entre l'État, le secteur privé et le secteur communautaire, formant une économie plurielle.
			</div>
		</div>

		<div class='question' id='q3'>
			<h2>3. Typologie des États-providence</h2>
			<p>Selon la typologie de Gosta Esping-Andersen, quel modèle d'État-providence fait la promotion de l'universalité des protections?</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q3' id='q3a' value='a' />
					<label for='q3a'>Le welfare state libéral</label>
				</div>
				<div class='option'>
					<input type='radio' name='q3' id='q3b' value='b' />
					<label for='q3b'>Le modèle conservateur-corporatiste</label>
				</div>
				<div class='option'>
					<input type='radio' name='q3' id='q3c' value='c' />
					<label for='q3c'>Le régime social-démocrate</label>
				</div>
				<div class='option'>
					<input type='radio' name='q3' id='q3d' value='d' />
					<label for='q3d'>Le modèle néo-libéral</label>
				</div>
			</div>
			<div class='explanation' id='explain3'>
				Dans la typologie de Gosta Esping-Andersen, le régime social-démocrate est celui qui fait la promotion de l'universalité des protections, contrairement aux modèles libéral et
				conservateur-corporatiste.
			</div>
		</div>

		<div class='question' id='q4'>
			<h2>4. Financement des systèmes de santé</h2>
			<p>Quel type de financement correspond au modèle canadien et québécois dans le secteur de la santé?</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q4' id='q4a' value='a' />
					<label for='q4a'>Financement à dominante assurance publique (Bismarckien)</label>
				</div>
				<div class='option'>
					<input type='radio' name='q4' id='q4b' value='b' />
					<label for='q4b'>Financement à dominante impôt (Beveridgien)</label>
				</div>
				<div class='option'>
					<input type='radio' name='q4' id='q4c' value='c' />
					<label for='q4c'>Financement à dominante privé ou mixte</label>
				</div>
				<div class='option'>
					<input type='radio' name='q4' id='q4d' value='d' />
					<label for='q4d'>Financement par cotisation volontaire</label>
				</div>
			</div>
			<div class='explanation' id='explain4'>
				Le Canada et le Québec utilisent un financement à dominante impôt (modèle Beveridgien), caractérisé par un financement par impôt, l'universalité et la gestion publique. C'est l'expression la
				plus parfaite des orientations d'un État providence.
			</div>
		</div>

		<div class='question' id='q5'>
			<h2>5. Modèles de justice dans les soins de santé</h2>
			<p>Quel type de justice est associé au financement par impôt du système de santé?</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q5' id='q5a' value='a' />
					<label for='q5a'>Justice commutative</label>
				</div>
				<div class='option'>
					<input type='radio' name='q5' id='q5b' value='b' />
					<label for='q5b'>Justice distributive</label>
				</div>
				<div class='option'>
					<input type='radio' name='q5' id='q5c' value='c' />
					<label for='q5c'>Justice réparatrice</label>
				</div>
				<div class='option'>
					<input type='radio' name='q5' id='q5d' value='d' />
					<label for='q5d'>Justice procédurale</label>
				</div>
			</div>
			<div class='explanation' id='explain5'>
				Le financement par impôt correspond à la justice distributive, où les soins sont considérés comme un droit, et chacun reçoit ce qui lui est dû sans lien entre la contribution et les services
				reçus.
			</div>
		</div>

		<div class='question' id='q6'>
			<h2>6. Les objectifs de l'État providence</h2>
			<p>Selon Rosanvallon, quels sont les quatre volets des politiques sociales?</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q6' id='q6a' value='a' />
					<label for='q6a'>Redistributif, capacitation, régulation et protection</label>
				</div>
				<div class='option'>
					<input type='radio' name='q6' id='q6b' value='b' />
					<label for='q6b'>Égalité, fraternité, liberté et justice</label>
				</div>
				<div class='option'>
					<input type='radio' name='q6' id='q6c' value='c' />
					<label for='q6c'>Protection, assistance, assurance et universalité</label>
				</div>
				<div class='option'>
					<input type='radio' name='q6' id='q6d' value='d' />
					<label for='q6d'>Économique, social, politique et environnemental</label>
				</div>
			</div>
			<div class='explanation' id='explain6'>
				Selon Rosanvallon, les quatre volets des politiques sociales sont: redistributif (impôts et redistribution), capacitation (empowerment), régulation (comme un code de route), et protection
				(minimum digne pour vivre).
			</div>
		</div>

		<!-- Vrai ou Faux -->
		<div class='question' id='q7'>
			<h2>7. État providence</h2>
			<p>Indiquez si l'énoncé suivant est vrai ou faux: Selon l'approche néo-libérale, le secteur communautaire est perçu comme une opportunité permettant de rendre des services à moindre coût.</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q7' id='q7a' value='a' />
					<label for='q7a'>Vrai</label>
				</div>
				<div class='option'>
					<input type='radio' name='q7' id='q7b' value='b' />
					<label for='q7b'>Faux</label>
				</div>
			</div>
			<div class='explanation' id='explain7'>
				Vrai. Dans l'approche néo-libérale, le secteur communautaire est effectivement considéré comme une aubaine permettant de rendre des services à moindre coût, notamment dans les domaines de la
				santé, des services sociaux, de la réinsertion sociale, et de l'environnement.
			</div>
		</div>

		<div class='question' id='q8'>
			<h2>8. Gouvernance et politiques sociales</h2>
			<p>
				Indiquez si l'énoncé suivant est vrai ou faux: Les récentes réformes dans plusieurs domaines des politiques sociales ont eu pour effet de favoriser la décentralisation et d'augmenter la
				participation de la société civile.
			</p>
			<div class='options'>
				<div class='option'>
					<input type='radio' name='q8' id='q8a' value='a' />
					<label for='q8a'>Vrai</label>
				</div>
				<div class='option'>
					<input type='radio' name='q8' id='q8b' value='b' />
					<label for='q8b'>Faux</label>
				</div>
			</div>
			<div class='explanation' id='explain8'>
				Faux. Selon le cours, les récentes réformes dans plusieurs domaines ont eu pour effet d'augmenter la centralisation et de diluer la participation de la société civile, contrairement à ce qui
				serait souhaitable pour une gouvernance plus démocratique et locale.
			</div>
		</div>

		<!-- Questions à court développement -->
		<div class='question short-answer' id='q9'>
			<h2>9. Inégalités sociales et santé</h2>
			<p>Expliquez le lien entre les inégalités sociales et la santé, en vous appuyant sur les exemples fournis par le professeur David Alper dans le cours.</p>
			<textarea name='q9' id='q9answer' placeholder='Votre réponse...'></textarea>
			<div class='explanation' id='explain9'>
				Selon le professeur David Alper, les inégalités ont un impact néfaste sur la santé des individus, tandis que l'égalité est bénéfique pour la santé. Il cite en exemple les pays nordiques comme
				la Norvège et la Finlande, qui ont des politiques favorisant l'égalité (accès gratuit à l'université, congés parentaux pour tous, politiques d'égalité homme-femme). Son message principal est
				que "les sociétés les plus égalitaires sont les sociétés les plus en santé".
			</div>
		</div>

		<div class='question short-answer' id='q10'>
			<h2>10. Origines des politiques sociales</h2>
			<p>Expliquez comment les mouvements sociaux contribuent au développement des politiques sociales. Donnez un exemple concret mentionné dans le cours.</p>
			<textarea name='q10' id='q10answer' placeholder='Votre réponse...'></textarea>
			<div class='explanation' id='explain10'>
				Selon le cours, une large part des politiques sociales trouve son origine dans les luttes populaires. Elles sont donc en partie le produit de la mobilisation et plus largement de la
				solidarité. Les mouvements sociaux produisent ou forcent à produire des politiques sociales qui profitent à tous. L'exemple concret mentionné est la loi 112 pour lutter contre la pauvreté, qui
				a été le résultat de mobilisations sociales.
			</div>
		</div>

		<button type='button' id='checkAnswers'>Vérifier les réponses</button>
	</form>

	<div id='results'></div>
</div>

<script>
	document.addEventListener("DOMContentLoaded", function () {
		const checkAnswersButton = document.getElementById("checkAnswers");
		if (checkAnswersButton) {
			checkAnswersButton.addEventListener("click", function () {
				const correctAnswers = {
					q1: "b",
					q2: "c",
					q3: "c",
					q4: "b",
					q5: "b",
					q6: "a",
					q7: "a",
					q8: "b",
				};

				let score = 0;
				let resultsHtml = "<h2>Résultats</h2>";

				// Vérifier les questions à choix multiples
				for (let q in correctAnswers) {
					const selected = document.querySelector(`input[name="${q}"]:checked`) as HTMLInputElement | null;
					// Trouver le div de la question
					const questionDiv = document.getElementById(q);

					if (selected) {
						if (selected.value === correctAnswers[q as keyof typeof correctAnswers]) {
							score++;
							// Style pour réponse correcte
							if (questionDiv) {
								questionDiv.style.border = "2px solid #28a745";
								questionDiv.style.boxShadow = "0 0 5px rgba(40, 167, 69, 0.5)";
							}
							resultsHtml += `<p style="border: 1px solid #c3e6cb; border-radius: 4px; padding: 8px; background-color: #d4edda; color: #155724; margin-bottom: 10px;">Question ${q.substring(1)}: <span style="font-weight: bold;">Correct!</span></p>`;
						} else {
							// Style pour réponse incorrecte
							if (questionDiv) {
								questionDiv.style.border = "2px solid #dc3545";
								questionDiv.style.boxShadow = "0 0 5px rgba(220, 53, 69, 0.5)";
							}
							resultsHtml += `<p style="border: 1px solid #f5c6cb; border-radius: 4px; padding: 8px; background-color: #f8d7da; color: #721c24; margin-bottom: 10px;">Question ${q.substring(1)}: <span style="font-weight: bold;">Incorrect</span></p>`;
						}
					} else {
						// Style pour question non répondue
						if (questionDiv) {
							questionDiv.style.border = "2px solid #ffc107";
							questionDiv.style.boxShadow = "0 0 5px rgba(255, 193, 7, 0.5)";
						}
						resultsHtml += `<p style="border: 1px solid #ffeeba; border-radius: 4px; padding: 8px; background-color: #fff3cd; color: #856404; margin-bottom: 10px;">Question ${q.substring(1)}: <span style="font-weight: bold;">Non répondu</span></p>`;
					}

					// Afficher l'explication
					const explanation = document.getElementById(`explain${q.substring(1)}`);
					if (explanation) {
						explanation.style.display = "block";
					}
				}

				// Afficher les résultats pour les questions à court développement
				for (let i = 9; i <= 10; i++) {
					const answerElement = document.getElementById(`q${i}answer`) as HTMLTextAreaElement | null;
					const answer = answerElement?.value.trim() || "";
					const questionDiv = document.getElementById(`q${i}`);

					if (answer) {
						if (questionDiv) {
							questionDiv.style.border = "2px solid #17a2b8";
							questionDiv.style.boxShadow = "0 0 5px rgba(23, 162, 184, 0.5)";
						}
						resultsHtml += `<p style="border: 1px solid #bee5eb; border-radius: 4px; padding: 8px; background-color: #d1ecf1; color: #0c5460; margin-bottom: 10px;">Question ${i}: <span style="font-weight: bold;">Révisez votre réponse avec l'explication</span></p>`;
					} else {
						if (questionDiv) {
							questionDiv.style.border = "2px solid #ffc107";
							questionDiv.style.boxShadow = "0 0 5px rgba(255, 193, 7, 0.5)";
						}
						resultsHtml += `<p style="border: 1px solid #ffeeba; border-radius: 4px; padding: 8px; background-color: #fff3cd; color: #856404; margin-bottom: 10px;">Question ${i}: <span style="font-weight: bold;">Non répondu</span></p>`;
					}

					const explanation = document.getElementById(`explain${i}`);
					if (explanation) {
						explanation.style.display = "block";
					}
				}

				resultsHtml += `<p style="font-weight: bold; font-size: 1.1em; margin-top: 15px;">Score pour les questions à choix multiples: ${score}/${Object.keys(correctAnswers).length}</p>`;
				resultsHtml += `<p>Consultez les explications sous chaque question pour plus de détails.</p>`;

				const resultsDiv = document.getElementById("results");
				if (resultsDiv) {
					resultsDiv.innerHTML = resultsHtml;
					resultsDiv.style.display = "block";
					resultsDiv.style.padding = "15px";
					resultsDiv.style.backgroundColor = "#f8f9fa";
					resultsDiv.style.border = "1px solid #ddd";
					resultsDiv.style.borderRadius = "5px";
					resultsDiv.style.marginTop = "20px";

					// Défiler jusqu'aux résultats
					resultsDiv.scrollIntoView({behavior: "smooth"});
				}
			});
		}
	});
</script>

<style>
	.exam-content {
		background: white;
		border-radius: 8px;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		padding: 2rem;
	}

	h1 {
		margin-top: 0;
		margin-bottom: 1.5rem;
		color: var(--primary-color);
		border-bottom: 2px solid #eaeaea;
		padding-bottom: 0.5rem;
	}

	.question {
		background-color: white;
		padding: 15px;
		border-radius: 5px;
		box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
		margin-bottom: 20px;
		transition:
			border 0.3s,
			box-shadow 0.3s;
	}

	.options {
		margin-left: 20px;
	}

	.option {
		margin: 8px 0;
	}

	button {
		background-color: var(--primary-color);
		color: white;
		border: none;
		padding: 10px 20px;
		border-radius: 5px;
		cursor: pointer;
		font-size: 16px;
		margin-top: 20px;
	}

	button:hover {
		background-color: var(--secondary-color);
	}

	#results {
		margin-top: 20px;
		padding: 15px;
		border-radius: 5px;
		display: none;
	}

	.explanation {
		margin-top: 10px;
		font-style: italic;
		display: none;
		padding: 10px;
		border-left: 3px solid var(--primary-color);
		background-color: #f8f9fa;
	}

	.short-answer textarea {
		width: 100%;
		height: 80px;
		padding: 10px;
		border: 1px solid #ddd;
		border-radius: 5px;
		font-family: inherit;
		font-size: 1rem;
	}
</style>
